// config3:  Strength: 50   SL: 1.0   TP: 0.7   max_pos: 2 
// MainBrain v3.20 – no ShadowTrader, with Sizing Governor
{
  // ========= Live Trading Switches =========
  "live_trading_enabled":   true,   // honor strength + time filter, etc.
  "force_live_trading":     false,  // if true, always allow entries (still respects trading_hours) 

  // ========= Sizing Governor =========
  // Binary sizing: after a LOSS → broker min size; after a WIN → full $100 risk.
  "sizing_governor": {
    "enabled": true,
    "per_symbol": true,
    "small_fraction": 0.0,
    "min_fraction": 0.0,
    "max_fraction": 1.00,
    "be_counts_as": "win",
    "be_pnl_usd_tolerance": 2.0,
    "floor_policy": "min_volume",
    "state_path": "C:/Tradingsystem/data/governor_state.json"
  },

  // ========= Core Risk Settings =========
  "risk_per_trade_usd": 100,         // base risk; governor scales this
  "sl_mul": 1.0,
  "tp_mul": 0.7,
  "cat_sl_factor": 3,                // stored in DB for reference

  // ========= Execution Control =========
  "cooldown_sec": 10,
  "max_pos_per_symbol": 2,           // per side (buy/sell) capacity
  "atr_period": 5,
  "order_workers": 4,                // parallel order senders
  "guardian_poll_ms": 200,           // management heartbeat (close on SL/TP, etc.)

  // ========= Breakeven Logic =========
  "enable_breakeven_sl": true,
  "breakeven_trigger_atr": 0.56,
  "breakeven_offset_atr": 0.03,

  // ========= Trailing-Stop Parameters (disabled) =========
  "enable_trailing_sl": false,
  // Optional advanced trailing (only used if enable_trailing_sl = true)
  "enable_dynamic_trailing": false,
  "trailing_offset_base_atr": 1.0,
  "trailing_offset_max_atr": 2.5,
  "trailing_offset_step_atr": 0.25,
  "trailing_step_trigger_atr": 1.0,
  "trailing_backoff_atr": 0.25,
  "trailing_sl_update_cooldown_sec": 10,

  // ========= Signal Strength / Polling =========
  "strength_threshold": 50,
  "poll_interval_ms": 100,

  // ========= Symbol Universe =========
  "symbols": ['DE40', 'US30', 'US500', 'USTEC', 'US2000', 'BTCUSD', 'EURUSD', 'USDJPY', 'XTIUSD', 'XNGUSD', 'XAUUSD', 'XAGUSD'],

  // ========= Reversal Logic (live) =========
  "enable_reversals": true,          // first-close opposite, then enter new side
  "max_reversals_per_min": 2,        // throttle per symbol

  // ========= Time-Window Filter =========
  "enable_time_filtering": true,
  "trading_hours": [['07:00', '18:00']],

  // ========= MT5 Connection =========
  "mt5_path": "C:\\MT5\\IC1\\terminal64.exe",
  "mt5_login": {
    "login": 52443403,
    "password": "SA@v4$1l6DW4m@",
    "server": "ICMarketsEU-Demo"
  },

  // ========= Database Storage =========
  "decisions_db": "C:/Tradingsystem/data/decisions.db",
  "signals_db_ro": "file:C:/Tradingsystem/data/signals.db?mode=rw"
}
