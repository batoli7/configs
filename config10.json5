// config10:  Strength: 60   TP: 0.9   max_pos: 2   BG: P3 
// MainBrain v3.21 â€“ adds BurstGuardian MVP
{
  // ========= Live Trading Switches =========
  "live_trading_enabled":   true,
  "force_live_trading":     false,

  // ========= Sizing Governor =========
  // Disabled for first pass to isolate BurstGuardian effect
    "sizing_governor": {
    "enabled": false,
    "per_symbol": true,
    "small_fraction": 0.10,
    "min_fraction": 0.05,
    "max_fraction": 1.00,
    "be_counts_as": "win",
    "be_pnl_usd_tolerance": 2.0,
    "floor_policy": "min_volume",
    "state_path": "C:/Tradingsystem/data/governor_state.json"
  },

  // ========= Core Risk Settings =========
  "risk_per_trade_usd": 100,
  "sl_mul": 1.0,
  "tp_mul": 0.9,
  "cat_sl_factor": 3,

  // ========= Execution Control =========
  "cooldown_sec": 10,
  "max_pos_per_symbol": 2,
  "atr_period": 5,
  "order_workers": 4,
  "guardian_poll_ms": 200,

  // ========= Breakeven Logic =========
  "enable_breakeven_sl": true,
  "breakeven_trigger_atr": 0.72,
  "breakeven_offset_atr": 0.05,

  // ========= Trailing-Stop Parameters (disabled) =========
  "enable_trailing_sl": false,
  "enable_dynamic_trailing": false,
  "trailing_offset_base_atr": 1.0,
  "trailing_offset_max_atr": 2.5,
  "trailing_offset_step_atr": 0.25,
  "trailing_step_trigger_atr": 1.0,
  "trailing_backoff_atr": 0.25,
  "trailing_sl_update_cooldown_sec": 10,

  // ========= Signal Strength / Polling =========
  "strength_threshold": 60,
  "poll_interval_ms": 100,

  // ========= Symbol Universe =========
  "symbols": ["DE40", "US30", "US500", "USTEC", "US2000", "BTCUSD", "EURUSD", "USDJPY", "XTIUSD", "XNGUSD", "XAUUSD", "XAGUSD"],

  // ========= Reversal Logic (live) =========
  "enable_reversals": true,
  "max_reversals_per_min": 2,

  // ========= Time-Window Filter =========
  "enable_time_filtering": true,
  "trading_hours": [['07:00', '18:00']],

  // ========= BurstGuardian (MVP) =========
  // Global thresholds for all symbols (simple first run).
  "burst_guardian": {
    // PreRunGuard (price moved BEFORE signal)
    "pre_window_ms": 900,
    "pre_max_move_ticks": 5,
    "pre_max_move_atr_frac": 0.18,

    // JumpGuard (AFTER signal, just before placing the order)
    "max_lag_ms": 1500,
    "max_move_ticks": 6,
    "max_move_atr_frac": 0.2,
    "max_spread_mult": 2.2,

    // Retrace entry (after a block)
    "retrace_frac": 0.4,
    "retrace_window_s": 6.0,

    // No-Progress killer (post-fill)
    "timeout_s": 5.0,
    "min_net_ticks": 2,
    "min_mfe_ticks": 3,

    // Max slippage guard (post-fill immediate)
    "max_slippage_ticks": 2
  },

  // ========= MT5 Connection =========
  "mt5_path": "C:\\MT5\\IC1\\terminal64.exe",
  "mt5_login": {
    "login": 52443411,
    "password": "bT3d@Q6hFqa0M5",
    "server": "ICMarketsEU-Demo"
  },

  // ========= Database Storage =========
  "decisions_db": "C:/Tradingsystem/data/decisions.db",
  "signals_db_ro": "file:C:/Tradingsystem/data/signals.db?mode=rw"
}
